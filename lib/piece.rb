module ChessPieceSymbols
  SYMBOLS = {
    kingwhite: "\u2654",
    queenwhite: "\u2655",
    rookwhite: "\u2656",
    bishopwhite: "\u2657",
    knightwhite: "\u2658",
    pawnwhite: "\u2659",
    kingblack: "\u265A",
    queenblack: "\u265B",
    rookblack: "\u265C",
    bishopblack: "\u265D",
    knightblack: "\u265E",
    pawnblack: "\u265F"
  }
end

module ChessPieceMoveList
  MOVES =  {
    pawn: [],
    knight: [ [-1,2],[-2,1],[2,1],[1,2],[2,-1],[1,-2],[-2,-1],[-1,-2] ],
    rook: [ [1,0],[2,0],[3,0],[4,0],[5,0],[6,0],[7,0],
            [-1,0],[-2,0],[-3,0],[-4,0],[-5,0],[-6,0],[-7,0],
            [0,1],[0,2],[0,3],[0,4],[0,5],[0,6],[0,7],
            [0,-1],[0,-2],[0,-3],[0,-4],[0,-5],[0,-6],[0,-7] ],
    bishop: [ [1,1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7],
              [-1,1],[-2,2],[-3,3],[-4,4],[-5,5],[-6,6],[-7,7],
              [-1,-1],[-2,-2],[-3,-3],[-4,-4],[-5,-5],[-6,-6],[-7,-7],
              [1,-1],[2,-2],[3,-3],[4,-4],[5,-5],[6,-6],[7,-7] ],
    queen: [ [1,0],[2,0],[3,0],[4,0],[5,0],[6,0],[7,0],
            [-1,0],[-2,0],[-3,0],[-4,0],[-5,0],[-6,0],[-7,0],
            [0,1],[0,2],[0,3],[0,4],[0,5],[0,6],[0,7],
            [0,-1],[0,-2],[0,-3],[0,-4],[0,-5],[0,-6],[0,-7],
            [1,1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7],
            [-1,1],[-2,2],[-3,3],[-4,4],[-5,5],[-6,6],[-7,7],
            [-1,-1],[-2,-2],[-3,-3],[-4,-4],[-5,-5],[-6,-6],[-7,-7],
            [1,-1],[2,-2],[3,-3],[4,-4],[5,-5],[6,-6],[7,-7] ],
    king: [ [1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1] ]
  }
end

class Piece
  include ChessPieceSymbols
  include ChessPieceMoveList
  attr_reader :type, :color

  def initialize(type, color)
    @type = type
    @color = color
  end

  def moves
    MOVES[type]
  end

  def symbol
    SYMBOLS[(type.to_s + color.to_s).to_sym]
  end
end